---
title: "[책]  데이터 지향 프로그래밍 - 15장 디버깅"
description: "DOP에서 누릴 수 있는 디버깅의 이점과 REPL 활용법, 컨텍스트 포착 방법에 대해 알아봅니다. 데이터의 불변성을 활용한 효과적인 디버깅 전략을 소개합니다."
date: "2025-02-29"
draft: false
---

로직을 작성했다면 내가 원하는대로 동작하는지 확인해보는 과정은 필수적이다. 이는 OOP이든 DOP이든 그 어떤 프로그래밍 패러다임에서도 마찬가지일 것이다. 하지만 DOP는 이 과정에서 누릴 수 있는 이점이 있다. DOP의 데이터는 불변이기 때문에 메서드의 인자가 결과값의 유일한 원인이라는 점이다. 즉, DOP에서는 메서드 인자와 그 결과값에 대한 확인으로 동작을 확인할 수 있게 된다.

<br></br>

## 컨텍스트 포착

메서드 인자는 로깅을 통해서 확인이 가능하다. 메서드 도입부에 `console.log()`를 활용해 인자들을 출력하면 그만이다. 하지만 console에 출력되는 과정에서 데이터를 그대로 복붙해서 사용하기 어려운 형태로 바뀌는 경우가 있다. 예를 들면 문자열의 경우 사용을 위해서는 `"string"` 형태가 필요하지만 console에는 string이라고만 표현된다.

이런 문제를 해결하기 위해 `JSON.stringify()`를 사용할 수 있다. 이를 통해 데이터를 그대로 복사해서 사용할 수 있는 형태로 출력할 수 있다.

```javascript
function hasWordStartingWith(sentence, prefix) {
    console.log(JSON.stringify(sentence));
    console.log(JSON.stringify(prefix));
    
    var words = sentence.split(" ");
    
    return _.find(words, function(word) {
        return word.startsWith(prefix);
    }) != null;
}
```

위와 같이 `JSON.stringify()`를 사용하면 문자열의 경우 따옴표까지 포함된 형태로 출력되어 바로 코드에서 사용할 수 있다.

<br></br>

## REPL을 활용한 디버깅

REPL(Read-Eval-Print Loop)은 코드를 입력하고 즉시 실행해볼 수 있는 대화형 환경이다. DOP에서 REPL은 특히 유용한데, 데이터가 불변이므로 같은 입력에 대해 항상 같은 결과를 얻을 수 있기 때문이다.

REPL을 활용한 디버깅의 장점:

- 메서드를 호출할 때마다 동일한 결과를 보장
- 복잡한 데이터 구조를 단계별로 탐색 가능
- 즉시 피드백을 통한 빠른 문제 해결

브라우저의 개발자 도구나 Node.js의 REPL 환경에서 로깅된 데이터를 복사해서 직접 테스트해볼 수 있다. 이를 통해 메서드의 동작을 더 깊이 이해하고 문제점을 빠르게 파악할 수 있다.

<br></br>

## 단위 테스트와 외부 데이터 테스트

DOP에서는 메서드가 순수 함수(pure function)의 특성을 가지므로 단위 테스트가 매우 용이하다. 같은 입력에 대해 항상 같은 출력을 보장하기 때문이다.

단위 테스트의 장점:
- 예측 가능한 결과로 테스트 케이스 작성이 쉬움
- 사이드 이펙트가 없어 테스트 격리가 자연스럽게 이뤄짐
- 리팩토링 시 기능의 정확성을 보장

외부 데이터를 다룰 때도 DOP의 장점이 드러난다. 외부에서 받아온 데이터를 불변 구조로 변환한 후 처리하면, 데이터의 무결성을 보장하면서 디버깅할 수 있다.

<br></br>

## 내 생각

사실 개발을 시작했을 때부터 지금까지 REPL을 사용하고 있었지만 정확한 용어는 처음 알게 된 것 같다. 항상 하고 있었지만 어디서도 설명해주지 않았던 REPL 디버깅을 언급해줘서 좋았고, 잘 활용하는 팁과 DOP에서의 활용법을 배울 수 있었다.

특히 `JSON.stringify()`를 활용한 로깅 방법은 실무에서 바로 적용해볼 만한 유용한 팁이었다. 단순히 `console.log()`만 사용했을 때보다 훨씬 실용적인 방법이다.

DOP의 핵심인 데이터의 불변성이 디버깅 과정에서도 어떤 이점을 제공하는지 명확하게 이해할 수 있었다. 메서드의 인자가 결과값의 유일한 원인이라는 점은 디버깅을 매우 예측 가능하고 체계적으로 만든다.

앞으로 복잡한 로직을 디버깅할 때 이 장에서 배운 내용들을 적극 활용해보려고 한다. 특히 REPL을 활용한 단계별 디버깅과 JSON.stringify()를 통한 효과적인 로깅 방법을 실무에 적용해보고 싶다.