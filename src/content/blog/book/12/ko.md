---
title: "[책] 데이터 지향 프로그래밍 - 12장 고급 데이터 유효성 확인"
description: "Ruby, Python 개발에서 메서드 인자와 반환값의 유효성 확인, JSON 스키마를 활용한 데이터 모델 도식과 테스트 자동 생성에 대해 알아봅니다."
date: "2025-01-27"
draft: false
---

최근 Ruby, Python으로 개발을 하며 어려웠던 점 중 하나는 메서드로 들어오고 나가는 데이터의 양식을 명확하게 파악하기 어렵다는 점이다. 물론 두 값에 대한 타입을 따로 정의하지 않아도 되기 때문에 편리한 점은 있지만 규모가 커지고 내가 개발하지 않은 메서드를 손봐야 할 때면 조금 어려워진다.

때마침 12장에서는 메서드 인자와 반환값에 대한 유효성 확인. 그리고 이를 바탕으로 데이터 모델 도식과 테스트 자동 생성에 대해 다룬다.

<br></br>

## 함수 인자 유효성 확인

7장 데이터 유효성 확인에서 JSON 스키마를 활용해 외부와의 경계에서 데이터를 검증하는 방법에 대해 이야기 했다. 이번 장에서 조금 다른 점은 데이터를 확인하는 시점이 시스템의 내부이자 메서드의 시작과 끝이라는 점이다.

JSON 스키마를 활용하여 함수의 인자와 반환값에 대한 유효성을 확인할 수 있다. 이를 통해 코드의 안정성을 높이고 예상치 못한 데이터 형식으로 인한 오류를 방지할 수 있다.

```javascript
var isbnSchema = {
    "type": "string",
    "pattern": "^[0-9-]{10,20}$"
};

var libIdSchema = {
    "type": "string",
    "pattern": "^[a-z0-9-]{3,20}$"
};
```

<br></br>

## JSON 스키마를 활용한 데이터 도식과 단위 테스트 자동 생성

JSON 스키마를 작성하고 나면 얻을 수 있는 이점이 2가지 있다. 첫 번째는 데이터 모델에 대한 명확한 도식을 제공한다는 점이고, 두 번째는 이를 바탕으로 단위 테스트를 자동으로 생성할 수 있다는 점이다.

![JSON 스키마를 활용한 데이터 유효성 확인 구조](./diagram-1.webp)

데이터 스키마를 정의함으로써 개발자 간의 소통이 원활해지고, 시스템의 안정성을 높일 수 있다. 특히 동적 타입 언어를 사용하는 환경에서는 이러한 명시적인 데이터 검증이 더욱 중요하다.